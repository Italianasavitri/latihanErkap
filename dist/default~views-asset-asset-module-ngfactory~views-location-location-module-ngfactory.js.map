{"version":3,"sources":["webpack:///./src/app/views/shared/_siteSearch.html","webpack:///./src/app/views/shared/_siteSearch.service.ts","webpack:///./src/app/views/shared/_siteSearch.ts"],"names":[],"mappings":"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","file":"default~views-asset-asset-module-ngfactory~views-location-location-module-ngfactory.js","sourcesContent":["<div *ngIf=\"siteSearchVsb\">\r\n  <div id=\"popup1\">\r\n    <dx-popup class=\"popup\" width=\"500\" height=\"auto\" [showTitle]=\"true\" title=\"Find By Site Code\" [dragEnabled]=\"false\" [closeOnOutsideClick]=\"false\"\r\n      [(visible)]=\"siteSearchVsb\" (onHiding)=\"hide()\">\r\n      <div *dxTemplate=\"let data of 'content'\">\r\n        <div class=\"card-body\">\r\n          <div id=\"data-grid-demo\">\r\n            <dx-data-grid id=\"gridContainer\" [dataSource]=\"searchSiteById\" keyExpr=\"siteCodeExist\" [showRowLines]=\"true\" [showBorders]=\"true\">\r\n              <dxo-remote-operations [filtering]=\"true\">\r\n              </dxo-remote-operations>\r\n              <dxo-filter-row [visible]=\"true\"></dxo-filter-row>\r\n              <dxo-header-filter [visible]=\"true\"></dxo-header-filter>\r\n              <dxo-paging [pageSize]=\"10\"></dxo-paging>\r\n              <dxo-pager \r\n                  [showInfo]=\"true\">\r\n\t              </dxo-pager>\r\n                <dxi-column dataField=\"siteCodeExist\" caption=\"Site Code\" width=\"100px\"></dxi-column>\r\n                <dxi-column dataField=\"createdBy\" caption=\"Unit\" width=\"100px\" [allowFiltering]=\"false\"></dxi-column>\r\n                <dxi-column dataField=\"name\" caption=\"Site Name\"[allowFiltering]=\"false\" ></dxi-column>\r\n\r\n              <dxi-column [fixed]=\"true\" dataField=\"siteCodeExist\" caption=\"Action\" width=\"55px\" [allowFiltering]=\"false\" [allowSorting]=\"false\"\r\n                cellTemplate=\"siteTemplate\"></dxi-column>\r\n              <div *dxTemplate=\"let data of 'siteTemplate'\">\r\n                <div (click)=\"getIdSite(data.value)\" class=\"text-center\">\r\n                  <i class=\"fa fa-thumb-tack\" id=\"btn{{data.value}}\"></i>\r\n                </div>\r\n              </div>\r\n            </dx-data-grid>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </dx-popup>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AppConstant } from '../../app.constant';\r\nimport { DatePipe } from '@angular/common';\r\nimport notify from 'devextreme/ui/notify';\r\n\r\n@Injectable()\r\nexport class SiteSearchService {\r\n    private resourceUrlSiteChild = this.a.SERVER_URL + '/site_child';\r\n\r\n    constructor(private http: HttpClient, private a: AppConstant) { }\r\n\r\n    getSiteByID(data: any): Observable<any> {\r\n        return this.http.get(this.resourceUrlSiteChild + '/filter?search=siteCodeExist:' + data);\r\n    }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\n\r\nimport {\r\n  SiteSearchService\r\n} from './_siteSearch.service';\r\n\r\nimport {\r\n  DxContextMenuModule,\r\n  DxPopupModule,\r\n  DxSelectBoxModule,\r\n  DxTextAreaModule,\r\n  DxFormModule,\r\n  DxFormComponent,\r\n  DxLookupModule,\r\n  DxDateBoxModule,\r\n  DxChartModule,\r\n  DxScrollViewComponent,\r\n  DxScrollViewModule\r\n} from 'devextreme-angular';\r\n\r\n\r\nimport DataSource from 'devextreme/data/data_source';\r\n\r\n@Component({\r\n  selector: 'app-site-search',\r\n  templateUrl: './_siteSearch.html',\r\n  providers: [SiteSearchService]\r\n})\r\nexport class SiteSearchComponent {\r\n  @Input() siteSearchVsb;\r\n  @Output() onHideSiteSearch = new EventEmitter();\r\n\r\n  siteId: any;\r\n  searchSiteById: any;\r\n\r\n  constructor(service: SiteSearchService) {\r\n    /* site by id fix */\r\n    this.searchSiteById = new DataSource({\r\n      load: function (loadOptions) {\r\n        if (loadOptions.filter !== undefined) {\r\n          let a: any = [];\r\n          a = loadOptions.filter[2];\r\n\r\n          return service.getSiteByID(a).toPromise().then(resp => {\r\n            this.dataSourceSite = resp;\r\n            this.siteChildren = resp;\r\n            let sites1: any;\r\n            let sites2: any;\r\n            let sites3: any;\r\n            let sitess: any;\r\n            this.siteChildren.forEach(element => {\r\n              sites1 = element.childSite;\r\n\r\n              if (sitess == null) {\r\n                sitess = [{\r\n                  'siteCodeExist': element.siteCodeExist,\r\n                  'name': element.name,\r\n                  'level': element.siteType.siteLevel\r\n                }];\r\n              }\r\n              if (sites1.length > 0) {\r\n                sites1.forEach(element1 => {\r\n                  if (typeof (element1.siteCodeExist) !== 'undefined') {\r\n                    sitess.push({\r\n                      'siteCodeExist': element1.siteCodeExist,\r\n                      'name': element1.name,\r\n                      'level': element1.siteType.siteLevel\r\n                    })\r\n                  }\r\n\r\n                  sites2 = element1.childSite;\r\n                  if (sites2.length > 0) {\r\n                    sites2.forEach(element2 => {\r\n                      if (typeof (element2.siteCodeExist) !== 'undefined') {\r\n                        sitess.push({\r\n                          'siteCodeExist': element2.siteCodeExist,\r\n                          'name': element2.name,\r\n                          'level': element2.siteType.siteLevel\r\n                        });\r\n                      }\r\n                      sites3 = (element2.childSite)\r\n                    });\r\n                  }\r\n                });\r\n              }\r\n            });\r\n            this.dataSourceSite = sitess;\r\n            return this.dataSourceSite;\r\n          }, err => {\r\n            console.log(err);\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  hide(event) {\r\n    this.onHideSiteSearch.emit({\r\n      event\r\n    });\r\n  }\r\n\r\n  getIdSite(id) {\r\n    this.siteSearchVsb = false;\r\n    this.hide(id);\r\n  }\r\n  showInfo() {\r\n    this.siteSearchVsb = true;\r\n  }\r\n}\r\n"],"sourceRoot":""}